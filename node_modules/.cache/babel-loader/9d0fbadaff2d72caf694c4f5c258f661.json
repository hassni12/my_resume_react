{"ast":null,"code":"// src/index.ts\nimport { useEffect, useRef } from \"react\";\n\nfunction useUpdateEffect(callback, deps) {\n  const renderCycleRef = useRef(false);\n  const effectCycleRef = useRef(false);\n  useEffect(() => {\n    const mounted = renderCycleRef.current;\n    const run = mounted && effectCycleRef.current;\n\n    if (run) {\n      return callback();\n    }\n\n    effectCycleRef.current = true;\n  }, deps);\n  useEffect(() => {\n    renderCycleRef.current = true;\n    return () => {\n      renderCycleRef.current = false;\n    };\n  }, []);\n}\n\nexport { useUpdateEffect };","map":null,"metadata":{},"sourceType":"module"}
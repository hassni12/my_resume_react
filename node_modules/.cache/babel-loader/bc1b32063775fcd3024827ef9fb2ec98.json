{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar utils = require('@motionone/utils');\n\nlet scheduled = undefined;\n\nfunction processScheduledAnimations() {\n  if (!scheduled) return;\n  const generators = scheduled.sort(compareByDepth).map(fireAnimateUpdates);\n  generators.forEach(fireNext);\n  generators.forEach(fireNext);\n  scheduled = undefined;\n}\n\nfunction scheduleAnimation(state) {\n  if (!scheduled) {\n    scheduled = [state];\n    requestAnimationFrame(processScheduledAnimations);\n  } else {\n    utils.addUniqueItem(scheduled, state);\n  }\n}\n\nfunction unscheduleAnimation(state) {\n  scheduled && utils.removeItem(scheduled, state);\n}\n\nconst compareByDepth = (a, b) => a.getDepth() - b.getDepth();\n\nconst fireAnimateUpdates = state => state.animateUpdates();\n\nconst fireNext = iterator => iterator.next();\n\nexports.scheduleAnimation = scheduleAnimation;\nexports.unscheduleAnimation = unscheduleAnimation;","map":null,"metadata":{},"sourceType":"script"}
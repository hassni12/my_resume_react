{"ast":null,"code":"import { addUniqueItem, removeItem } from '../../utils/array.mjs';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n  constructor() {\n    this.children = [];\n    this.isDirty = false;\n  }\n\n  add(child) {\n    addUniqueItem(this.children, child);\n    this.isDirty = true;\n  }\n\n  remove(child) {\n    removeItem(this.children, child);\n    this.isDirty = true;\n  }\n\n  forEach(callback) {\n    this.isDirty && this.children.sort(compareByDepth);\n    this.isDirty = false;\n    this.children.forEach(callback);\n  }\n\n}\n\nexport { FlatTree };","map":null,"metadata":{},"sourceType":"module"}